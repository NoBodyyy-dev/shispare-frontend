version: '3.8'

services:
  frontend:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: shispare-frontend
    ports:
      - "5173:80"
    restart: unless-stopped
    environment:
      - NODE_ENV=production
      - BACKEND_URL=http://backend:3000
    networks:
      - shispare-network

  # Опционально: можно добавить backend как сервис для локальной разработки
  # Раскомментируйте, если хотите запускать backend из этого docker-compose
  # backend:
  #   image: shispare-backend:latest
  #   container_name: shispare-backend
  #   networks:
  #     - shispare-network

networks:
  shispare-network:
    external: true
    name: shispare-network

