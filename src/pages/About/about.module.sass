@use "../../styles/_variables" as v

.about
  &__block
    width: 100%
    display: grid
    grid-template-columns: 1.8fr 1.2fr
    gap: 60px

    &Img
      width: 100%
      height: 100%
      border-radius: 10px
      background: linear-gradient(135deg, v.$mainRed 0%, v.$mainBlue 100%)
      position: relative
      overflow: hidden
      
      &::before
        content: ""
        position: absolute
        top: 0
        left: 0
        right: 0
        bottom: 0
        background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")
        opacity: 0.3

    &__info
      &__content
        background: #ffffff
        border-radius: 10px
        width: 100%
        min-height: 110px
        transition: transform 0.2s ease, border-left-color 0.2s ease
        border-left: 4px solid transparent
        will-change: transform
        
        &:hover
          border-left-color: v.$mainRed
          transform: translate3d(5px, 0, 0)

      &__history
        display: grid
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr))
        gap: 30px
        width: 100%
        
        @media (min-width: 1200px)
          grid-template-columns: repeat(3, 1fr)
        
        @media (max-width: 768px)
          grid-template-columns: repeat(2, 1fr)
          gap: 20px
        
        @media (max-width: 480px)
          grid-template-columns: 1fr

        &__item
          width: 100%
          min-height: 280px
          background: #ffffff
          border-radius: 16px
          border: 2px solid rgba(239, 59, 38, 0.1)
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
          position: relative
          overflow: hidden
          will-change: transform
          display: flex
          flex-direction: column
          padding: 30px 25px
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04)
          
          &::before
            content: ""
            position: absolute
            top: 0
            left: 0
            right: 0
            height: 4px
            background: linear-gradient(90deg, v.$mainRed 0%, v.$mainYellow 100%)
            transform: scaleX(0)
            transform-origin: left
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)
            will-change: transform
            z-index: 2
          
          &::after
            content: ""
            position: absolute
            top: -50%
            right: -50%
            width: 200%
            height: 200%
            background: radial-gradient(circle, rgba(239, 59, 38, 0.05) 0%, transparent 70%)
            opacity: 0
            transition: opacity 0.3s ease
            pointer-events: none
          
          &:hover
            border-color: rgba(239, 59, 38, 0.3)
            box-shadow: 0 12px 32px rgba(239, 59, 38, 0.15)
            transform: translate3d(0, -8px, 0)
            
            &::before
              transform: scaleX(1)
            
            &::after
              opacity: 1
            
            p
              color: #2C2C2C

          &Block
            height: 100px
            display: flex
            align-items: center
            justify-content: center
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)
            will-change: transform
            margin-bottom: 20px
            position: relative
            z-index: 1
            
            &::before
              content: ""
              position: absolute
              width: 80px
              height: 80px
              border-radius: 50%
              background: linear-gradient(135deg, rgba(239, 59, 38, 0.08) 0%, rgba(236, 168, 19, 0.08) 100%)
              opacity: 0
              transition: opacity 0.3s ease, transform 0.3s ease
              transform: scale(0.8)
          
          &__item:hover &Block
            transform: scale3d(1.05, 1.05, 1)
          
          &__item:hover &Block::before
            opacity: 1
            transform: scale(1.2)
          
          &__item:hover &Img
            filter: grayscale(0%) brightness(1.05)
            
          &Img
            max-width: 100%
            max-height: 100%
            filter: grayscale(40%) opacity(0.9)
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
            will-change: filter, transform
            position: relative
            z-index: 1
            object-fit: contain
            
            &.DJSI
              height: 70px
            &.CDP
              height: 60px
            &.ECOVADIS
              height: 80px

            &.RD100, &.ST, &.GPTW
              height: 70px
          
          p
            font-size: 14px
            line-height: 1.6
            color: #555
            margin: 0
            flex-grow: 1
            display: flex
            align-items: flex-start
            transition: color 0.3s ease
            font-weight: 400
            position: relative
            z-index: 1

      &__projects
        display: grid
        grid-template-columns: repeat(4, 1fr)
        gap: 30px
        width: 100%

        &__item
          width: 100%
          background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)
          border-radius: 10px
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05)
          display: flex
          flex-direction: column
          overflow: hidden
          transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease
          border: 2px solid transparent
          position: relative
          will-change: transform
          
          &::after
            content: ""
            position: absolute
            top: 0
            left: 0
            right: 0
            height: 4px
            background: linear-gradient(90deg, v.$mainRed 0%, v.$mainYellow 100%)
            transform: scaleX(0)
            transform-origin: left
            transition: transform 0.2s ease
            will-change: transform

          &:hover
            transform: translate3d(0, -8px, 0)
            box-shadow: 0 12px 32px rgba(239, 59, 38, 0.25)
            border-color: v.$mainRed
            
            &::after
              transform: scaleX(1)

.project__image
  width: 100%
  height: 200px
  overflow: hidden
  background: linear-gradient(135deg, v.$mainRed 0%, v.$mainBlue 100%)
  display: flex
  align-items: center
  justify-content: center
  position: relative
  
  &::before
    content: ""
    position: absolute
    top: 0
    left: 0
    right: 0
    bottom: 0
    background: rgba(0, 0, 0, 0.2)
    opacity: 0
    transition: opacity 0.2s ease
    z-index: 1
    will-change: opacity

  img
    width: 100%
    height: 100%
    object-fit: cover
    transition: transform 0.3s ease
    position: relative
    z-index: 0
    will-change: transform

  &:hover
    &::before
      opacity: 1
    
    img
      transform: scale3d(1.1, 1.1, 1)

.project__title
  font-size: 18px
  font-weight: 600
  color: v.$mainBlue
  margin: 0 0 8px 0
  transition: color 0.2s ease
  will-change: color
  
  .about__block__projects__item:hover &
    color: v.$mainRed

.project__location
  color: v.$mainRed
  font-weight: 500

.highlightRed
  color: v.$mainRed
  font-weight: 700
  text-shadow: 0 2px 4px rgba(239, 59, 38, 0.2)

.about__infoCard
  background: #ffffff
  border-radius: 16px
  padding: 40px
  width: 100%
  transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease
  border: 1px solid rgba(239, 59, 38, 0.1)
  position: relative
  overflow: hidden
  will-change: transform
  
  &::before
    content: ""
    position: absolute
    top: 0
    left: 0
    width: 4px
    height: 100%
    background: linear-gradient(180deg, v.$mainRed 0%, v.$mainYellow 100%)
    transform: scaleY(0)
    transform-origin: top
    transition: transform 0.2s ease
    will-change: transform
  
  &:hover
    box-shadow: 0 8px 24px rgba(239, 59, 38, 0.1)
    border-color: rgba(239, 59, 38, 0.3)
    
    &::before
      transform: scaleY(1)
  
  &__icon
    width: 60px
    height: 60px
    border-radius: 12px
    background: linear-gradient(135deg, rgba(239, 59, 38, 0.1) 0%, rgba(236, 168, 19, 0.1) 100%)
    display: flex
    align-items: center
    justify-content: center
    margin-bottom: 24px
    transition: transform 0.2s ease, background 0.2s ease
    will-change: transform
    
    svg
      font-size: 28px
      color: v.$mainRed
      transition: transform 0.2s ease
      will-change: transform
    
    .about__infoCard:hover &
      background: linear-gradient(135deg, rgba(239, 59, 38, 0.15) 0%, rgba(236, 168, 19, 0.15) 100%)
      transform: scale3d(1.1, 1.1, 1)
      
      svg
        color: v.$mainRed
        transform: rotate3d(0, 0, 1, 5deg)
  
  &__title
    font-size: 28px
    font-weight: 700
    color: #2C2C2C
    margin: 0 0 20px 0
    line-height: 1.3
  
  &__content
    p
      margin: 0 0 16px 0
      line-height: 1.7
      color: #555
      
      &:last-child
        margin-bottom: 0
      
      strong
        color: #2C2C2C
        font-weight: 600

// Отключение анимаций для пользователей с prefers-reduced-motion
@media (prefers-reduced-motion: reduce)
  *
    animation-duration: 0.01ms !important
    animation-iteration-count: 1 !important
    transition-duration: 0.01ms !important
    scroll-behavior: auto !important

